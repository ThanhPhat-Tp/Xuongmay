<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>S·∫£n ph·∫©m - X∆∞·ªüng May Ki·ªÅu Vy</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-50 text-gray-800">

  <!-- Header -->
  <header class="bg-blue-600 text-white py-4 px-6 flex justify-between items-center">
    <a href="index.html" class="hover:text-yellow-300">&larr; Trang ch·ªß</a>
    <h1 class="text-xl font-bold">üßµ S·∫£n ph·∫©m</h1>
    <a href="#" id="btnGioHang" class="hover:text-yellow-300 relative">
      üõí Gi·ªè h√†ng <span id="soLuong" class="bg-yellow-300 text-black text-xs rounded-full px-2 ml-1">0</span>
    </a>
  </header>

  <!-- Danh s√°ch s·∫£n ph·∫©m -->
  <main class="max-w-7xl mx-auto py-10 px-4">
    <h2 class="text-3xl font-semibold text-center mb-8">Danh s√°ch s·∫£n ph·∫©m</h2>
    <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6">

      <!-- S·∫£n ph·∫©m 1 -->
      <div class="bg-white shadow-md rounded-lg overflow-hidden">
        <img src="q2.jpg" alt="Qu·∫ßn Short Nam" class="w-full h-60 object-cover">
        <div class="p-4">
          <h3 class="text-lg font-bold">Qu·∫ßn Short Nam</h3>
          <p class="text-gray-600">Tho√°ng m√°t, th·ªùi trang, nhi·ªÅu size.</p>
          <p class="text-blue-600 font-semibold my-2">Gi√°: <span data-gia="150000">150.000ƒë</span></p>
          <input type="number" min="1" value="1" class="w-full border rounded px-2 py-1 mb-2" id="sl-qshort">
          <button onclick="themGioHang('Qu·∫ßn Short Nam', 'q2.jpg', 150000, 'sl-qshort')" class="bg-blue-600 text-white px-4 py-2 rounded w-full hover:bg-blue-700 mb-2">Th√™m v√†o gi·ªè h√†ng</button>
          <button onclick="datHangNgay('Qu·∫ßn Short Nam', 'q2.jpg', 150000, 'sl-qshort')" class="bg-green-600 text-white px-4 py-2 rounded w-full hover:bg-green-700">ƒê·∫∑t h√†ng</button>
        </div>
      </div>

      <!-- S·∫£n ph·∫©m 2 -->
      <div class="bg-white shadow-md rounded-lg overflow-hidden">
        <img src="q2.jpg" alt="Qu·∫ßn Short Nam" class="w-full h-60 object-cover">
        <div class="p-4">
          <h3 class="text-lg font-bold">Qu·∫ßn Short Nam</h3>
          <p class="text-gray-600">Tho√°ng m√°t, th·ªùi trang, nhi·ªÅu size.</p>
          <p class="text-blue-600 font-semibold my-2">Gi√°: <span data-gia="150000">150.000ƒë</span></p>
          <input type="number" min="1" value="1" class="w-full border rounded px-2 py-1 mb-2" id="sl-qshort2">
          <button onclick="themGioHang('Qu·∫ßn Short Nam', 'q2.jpg', 150000, 'sl-qshort2')" class="bg-blue-600 text-white px-4 py-2 rounded w-full hover:bg-blue-700 mb-2">Th√™m v√†o gi·ªè h√†ng</button>
          <button onclick="datHangNgay('Qu·∫ßn Short Nam', 'q2.jpg', 150000, 'sl-qshort2')" class="bg-green-600 text-white px-4 py-2 rounded w-full hover:bg-green-700">ƒê·∫∑t h√†ng</button>
        </div>
      </div>

      <!-- S·∫£n ph·∫©m 3 -->
      <div class="bg-white shadow-md rounded-lg overflow-hidden">
        <img src="q2.jpg" alt="Qu·∫ßn Short Nam" class="w-full h-60 object-cover">
        <div class="p-4">
          <h3 class="text-lg font-bold">Qu·∫ßn Short Nam</h3>
          <p class="text-gray-600">Tho√°ng m√°t, th·ªùi trang, nhi·ªÅu size.</p>
          <p class="text-blue-600 font-semibold my-2">Gi√°: <span data-gia="150000">150.000ƒë</span></p>
          <input type="number" min="1" value="1" class="w-full border rounded px-2 py-1 mb-2" id="sl-qshort3">
          <button onclick="themGioHang('Qu·∫ßn Short Nam', 'q2.jpg', 150000, 'sl-qshort3')" class="bg-blue-600 text-white px-4 py-2 rounded w-full hover:bg-blue-700 mb-2">Th√™m v√†o gi·ªè h√†ng</button>
          <button onclick="datHangNgay('Qu·∫ßn Short Nam', 'q2.jpg', 150000, 'sl-qshort3')" class="bg-green-600 text-white px-4 py-2 rounded w-full hover:bg-green-700">ƒê·∫∑t h√†ng</button>
        </div>
      </div>

      <!-- S·∫£n ph·∫©m 4 -->
      <div class="bg-white shadow-md rounded-lg overflow-hidden">
        <img src="q2.jpg" alt="Qu·∫ßn Short Nam" class="w-full h-60 object-cover">
        <div class="p-4">
          <h3 class="text-lg font-bold">Qu·∫ßn Short Nam</h3>
          <p class="text-gray-600">Tho√°ng m√°t, th·ªùi trang, nhi·ªÅu size.</p>
          <p class="text-blue-600 font-semibold my-2">Gi√°: <span data-gia="150000">150.000ƒë</span></p>
          <input type="number" min="1" value="1" class="w-full border rounded px-2 py-1 mb-2" id="sl-qshort4">
          <button onclick="themGioHang('Qu·∫ßn Short Nam', 'q2.jpg', 150000, 'sl-qshort4')" class="bg-blue-600 text-white px-4 py-2 rounded w-full hover:bg-blue-700 mb-2">Th√™m v√†o gi·ªè h√†ng</button>
          <button onclick="datHangNgay('Qu·∫ßn Short Nam', 'q2.jpg', 150000, 'sl-qshort4')" class="bg-green-600 text-white px-4 py-2 rounded w-full hover:bg-green-700">ƒê·∫∑t h√†ng</button>
        </div>
      </div>

      <!-- S·∫£n ph·∫©m 5 -->
      <div class="bg-white shadow-md rounded-lg overflow-hidden">
        <img src="q2.jpg" alt="Qu·∫ßn Short Nam" class="w-full h-60 object-cover">
        <div class="p-4">
          <h3 class="text-lg font-bold">Qu·∫ßn Short Nam</h3>
          <p class="text-gray-600">Tho√°ng m√°t, th·ªùi trang, nhi·ªÅu size.</p>
          <p class="text-blue-600 font-semibold my-2">Gi√°: <span data-gia="150000">150.000ƒë</span></p>
          <input type="number" min="1" value="1" class="w-full border rounded px-2 py-1 mb-2" id="sl-qshort5">
          <button onclick="themGioHang('Qu·∫ßn Short Nam', 'q2.jpg', 150000, 'sl-qshort5')" class="bg-blue-600 text-white px-4 py-2 rounded w-full hover:bg-blue-700 mb-2">Th√™m v√†o gi·ªè h√†ng</button>
          <button onclick="datHangNgay('Qu·∫ßn Short Nam', 'q2.jpg', 150000, 'sl-qshort5')" class="bg-green-600 text-white px-4 py-2 rounded w-full hover:bg-green-700">ƒê·∫∑t h√†ng</button>
        </div>
      </div>

      <!-- S·∫£n ph·∫©m 6 -->
      <div class="bg-white shadow-md rounded-lg overflow-hidden">
        <img src="q3.jpg" alt="ƒê·ªì B·ªô Nam N·ªØ" class="w-full h-60 object-cover">
        <div class="p-4">
          <h3 class="text-lg font-bold">ƒê·ªì B·ªô Nam N·ªØ</h3>
          <p class="text-gray-600">Ch·∫•t li·ªáu cotton, m·∫´u m·ªõi 2025.</p>
          <p class="text-blue-600 font-semibold my-2">Gi√°: <span data-gia="200000">200.000ƒë</span></p>
          <input type="number" min="1" value="1" class="w-full border rounded px-2 py-1 mb-2" id="sl-dobo">
          <button onclick="themGioHang('ƒê·ªì B·ªô Nam N·ªØ', 'q3.jpg', 200000, 'sl-dobo')" class="bg-blue-600 text-white px-4 py-2 rounded w-full hover:bg-blue-700 mb-2">Th√™m v√†o gi·ªè h√†ng</button>
          <button onclick="datHangNgay('ƒê·ªì B·ªô Nam N·ªØ', 'q3.jpg', 200000, 'sl-dobo')" class="bg-green-600 text-white px-4 py-2 rounded w-full hover:bg-green-700">ƒê·∫∑t h√†ng</button>
        </div>
      </div>

    </div>
  </main>

  <!-- Gi·ªè h√†ng popup -->
  <div id="popupGioHang" class="fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center hidden z-50">
    <div class="bg-white p-6 rounded-lg shadow-lg max-w-2xl w-full relative">
      <h3 class="text-2xl font-bold mb-4">üõí Gi·ªè h√†ng</h3>
      <div id="danhSachGioHang" class="mb-4 max-h-80 overflow-y-auto divide-y divide-gray-200"></div>
      <p class="text-right font-semibold text-lg mb-4">T·ªïng ti·ªÅn: <span id="tongTien">0ƒë</span></p>

      <h4 class="text-xl font-semibold mb-2">Th√¥ng tin ƒë·∫∑t h√†ng</h4>
      <form id="formDatHang" class="space-y-3">
        <input name="H·ªç t√™n" type="text" placeholder="H·ªç t√™n" class="w-full border rounded px-3 py-2" required />
        <input name="S·ªë ƒëi·ªán tho·∫°i" type="tel" placeholder="S·ªë ƒëi·ªán tho·∫°i" class="w-full border rounded px-3 py-2" required />
        <input name="ƒê·ªãa ch·ªâ" type="text" placeholder="ƒê·ªãa ch·ªâ" class="w-full border rounded px-3 py-2" required />
        <textarea name="Ghi ch√∫" placeholder="Ghi ch√∫ (t√πy ch·ªçn)" class="w-full border rounded px-3 py-2"></textarea>
        <div class="flex justify-end space-x-3">
          <button type="button" onclick="dongPopup()" class="px-4 py-2 rounded bg-gray-300 hover:bg-gray-400">H·ªßy</button>
          <button type="submit" class="px-4 py-2 rounded bg-blue-600 text-white hover:bg-blue-700">G·ª≠i ƒë∆°n h√†ng</button>
        </div>
      </form>
    </div>
  </div>

  <script>
    // L·∫•y gi·ªè h√†ng t·ª´ localStorage
    function layGioHang() {
      return JSON.parse(localStorage.getItem('gioHang') || '[]');
    }

    // L∆∞u gi·ªè h√†ng v√†o localStorage
    function luuGioHang(gioHang) {
      localStorage.setItem('gioHang', JSON.stringify(gioHang));
    }

    // C·∫≠p nh·∫≠t s·ªë l∆∞·ª£ng tr√™n n√∫t gi·ªè h√†ng
    function capNhatSoLuong() {
      const gioHang = layGioHang();
      let sl = 0;
      for (const sp of gioHang) sl += sp.soluong;
      document.getElementById('soLuong').textContent = sl;
    }

    // Hi·ªÉn th·ªã gi·ªè h√†ng trong popup
    function hienThiGioHang() {
      const gioHang = layGioHang();
      const container = document.getElementById('danhSachGioHang');
      container.innerHTML = '';
      let tong = 0;
      for (const sp of gioHang) {
        const div = document.createElement('div');
        div.className = 'flex items-center py-2';
        const tien = sp.gia * sp.soluong;
        tong += tien;
        div.innerHTML = `
          <img src="${sp.anh}" alt="${sp.ten}" class="w-16 h-16 object-cover rounded mr-3" />
          <div class="flex-grow">
            <h5 class="font-semibold">${sp.ten}</h5>
            <p>${sp.soluong} √ó ${sp.gia.toLocaleString()}ƒë = ${tien.toLocaleString()}ƒë</p>
          </div>
          <button onclick="xoaSanPham('${sp.ten}')" class="text-red-600 hover:text-red-800 font-bold ml-4">√ó</button>
        `;
        container.appendChild(div);
      }
      document.getElementById('tongTien').textContent = tong.toLocaleString() + 'ƒë';
    }

    // X√≥a s·∫£n ph·∫©m kh·ªèi gi·ªè
    function xoaSanPham(ten) {
      let gioHang = layGioHang();
      gioHang = gioHang.filter(sp => sp.ten !== ten);
      luuGioHang(gioHang);
      capNhatSoLuong();
      hienThiGioHang();
    }

    // Th√™m s·∫£n ph·∫©m v√†o gi·ªè h√†ng
    function themGioHang(ten, anh, gia, idInput) {
      const sl = parseInt(document.getElementById(idInput).value);
      if (sl <= 0) {
        alert('S·ªë l∆∞·ª£ng ph·∫£i l·ªõn h∆°n 0');
        return;
      }
      const gioHang = layGioHang();
      const index = gioHang.findIndex(sp => sp.ten === ten);
      if (index !== -1) {
        gioHang[index].soluong += sl;
      } else {
        gioHang.push({ ten, anh, gia, soluong: sl });
      }
      luuGioHang(gioHang);
      capNhatSoLuong();
      alert(`ƒê√£ th√™m ${sl} ${ten} v√†o gi·ªè h√†ng.`);
    }

    // M·ªü popup gi·ªè h√†ng
    function moPopup() {
      hienThiGioHang();
      document.getElementById('popupGioHang').classList.remove('hidden');
    }

    // ƒê√≥ng popup gi·ªè h√†ng
    function dongPopup() {
      document.getElementById('popupGioHang').classList.add('hidden');
    }

    // X·ª≠ l√Ω n√∫t ƒê·∫∑t h√†ng: th√™m v√†o gi·ªè r·ªìi m·ªü popup v√† focus form
    function datHangNgay(ten, anh, gia, idInput) {
      const sl = parseInt(document.getElementById(idInput).value);
      if (sl <= 0) {
        alert('S·ªë l∆∞·ª£ng ph·∫£i l·ªõn h∆°n 0');
        return;
      }
      const gioHang = layGioHang();
      const index = gioHang.findIndex(sp => sp.ten === ten);
      if (index !== -1) {
        gioHang[index].soluong += sl;
      } else {
        gioHang.push({ ten, anh, gia, soluong: sl });
      }
      luuGioHang(gioHang);
      capNhatSoLuong();
      hienThiGioHang();
      moPopup();

      // Focus v√†o √¥ H·ªç t√™n trong form ƒë·∫∑t h√†ng
      setTimeout(() => {
        const hoTenInput = document.querySelector('#formDatHang input[name="H·ªç t√™n"]');
        if (hoTenInput) hoTenInput.focus();
      }, 300);
    }

    // X·ª≠ l√Ω g·ª≠i form ƒë·∫∑t h√†ng
    document.getElementById('formDatHang').addEventListener('submit', function(e) {
      e.preventDefault();
      const form = e.target;
      const hoTen = form['H·ªç t√™n'].value.trim();
      const sdt = form['S·ªë ƒëi·ªán tho·∫°i'].value.trim();
      const diaChi = form['ƒê·ªãa ch·ªâ'].value.trim();

      if (!hoTen || !sdt || !diaChi) {
        alert('Vui l√≤ng ƒëi·ªÅn ƒë·∫ßy ƒë·ªß h·ªç t√™n, s·ªë ƒëi·ªán tho·∫°i v√† ƒë·ªãa ch·ªâ.');
        return;
      }

      const gioHang = layGioHang();
      if (gioHang.length === 0) {
        alert('Gi·ªè h√†ng ƒëang tr·ªëng!');
        return;
      }

      // ·ªû ƒë√¢y b·∫°n c√≥ th·ªÉ g·ª≠i d·ªØ li·ªáu ƒë∆°n h√†ng l√™n server ho·∫∑c email
      // M√¨nh t·∫°m gi·∫£ l·∫≠p th√¥ng b√°o th√†nh c√¥ng

      alert(`C·∫£m ∆°n ${hoTen} ƒë√£ ƒë·∫∑t h√†ng!\nCh√∫ng t√¥i s·∫Ω li√™n h·ªá l·∫°i qua s·ªë ${sdt}.`);

      // X√≥a gi·ªè h√†ng v√† ƒë√≥ng popup
      localStorage.removeItem('gioHang');
      capNhatSoLuong();
      dongPopup();
      form.reset();
    });

    // M·ªü gi·ªè h√†ng khi click n√∫t
    document.getElementById('btnGioHang').addEventListener('click', function(e) {
      e.preventDefault();
      moPopup();
    });

    // Kh·ªüi t·∫°o s·ªë l∆∞·ª£ng gi·ªè h√†ng khi trang load
    capNhatSoLuong();
  </script>

</body>
</html>
